# 服务器管理系统使用文档

本文档提供服务器管理系统的详细使用指南，帮助用户快速上手并充分利用系统的各项功能。

## 目录

- [系统概述](#系统概述)
- [登录系统](#登录系统)
- [界面导航](#界面导航)
- [服务器管理](#服务器管理)
- [服务器监控](#服务器监控)
- [命令执行](#命令执行)
- [文件同步](#文件同步)
- [命令库管理](#命令库管理)
- [操作历史](#操作历史)
- [常见问题](#常见问题)

## 系统概述

服务器管理系统是一个集成化的平台，用于集中管理、监控和操作多台服务器。主要功能包括：

- **服务器管理**：添加、编辑、删除和分组管理服务器
- **服务器监控**：实时监控服务器的 CPU、内存、磁盘和网络状态
- **命令执行**：在单台或多台服务器上执行命令
- **文件同步**：在本地和远程服务器之间上传和下载文件
- **命令库管理**：保存和管理常用命令
- **操作历史**：记录命令执行和文件操作历史

## 登录系统

1. 打开浏览器，访问系统地址（默认为 http://localhost:3000）
2. 在登录页面输入用户名和密码
   - 默认用户名：admin
   - 默认密码：admin123（可在部署时修改）
3. 点击"登录"按钮进入系统

![登录界面](../public/images/login-screenshot.png)

## 界面导航

登录成功后，系统顶部的导航栏提供以下功能模块：

- **服务器管理**：管理服务器信息
- **服务器监控**：查看服务器状态
- **命令执行**：执行命令
- **文件同步**：上传下载文件
- **命令库**：管理常用命令
- **历史记录**：查看操作历史

点击相应的选项卡即可切换到对应的功能模块。

## 服务器管理

### 添加服务器

1. 在"服务器管理"选项卡中，点击"添加服务器"按钮
2. 在弹出的表单中填写服务器信息：
   - **名称**：服务器的显示名称
   - **IP地址**：服务器的 IP 地址或域名
   - **用户名**：SSH 登录用户名
   - **认证方式**：选择"密码"或"密钥"
   - **密码**：如选择密码认证，输入 SSH 登录密码
   - **密钥路径**：如选择密钥认证，输入 SSH 私钥文件的路径
3. 点击"保存"按钮完成添加

### 编辑服务器

1. 在服务器列表中找到需要编辑的服务器
2. 点击该服务器卡片或行中的"编辑"按钮
3. 在弹出的表单中修改服务器信息
4. 点击"保存"按钮完成编辑

### 删除服务器

1. 在服务器列表中找到需要删除的服务器
2. 点击该服务器卡片或行中的"删除"按钮
3. 在确认对话框中点击"确认"完成删除

### 查看方式切换

系统提供三种查看服务器的方式：

- **卡片视图**：以卡片形式展示服务器信息
- **列表视图**：以表格形式展示服务器信息
- **分组视图**：按认证方式分组展示服务器

点击右上角的视图切换按钮可以在这三种视图之间切换。

### 搜索服务器

在搜索框中输入关键字，可以按服务器名称、IP 地址或用户名进行搜索。

## 服务器监控

### 查看服务器状态

1. 点击顶部导航栏的"服务器监控"选项卡
2. 系统会显示所有已添加服务器的状态卡片
3. 每个卡片包含以下信息：
   - 服务器名称和 IP 地址
   - CPU 使用率
   - 内存使用情况
   - 磁盘使用情况
   - 网络流量
   - 系统负载
   - 运行时间

### 刷新状态

点击状态卡片右上角的"刷新"按钮可以手动刷新该服务器的状态信息。

### 自动刷新

开启"自动刷新"开关，系统会每隔 30 秒自动刷新所有服务器的状态信息。

## 命令执行

### 单服务器命令执行

1. 点击顶部导航栏的"命令执行"选项卡
2. 在左侧服务器列表中选择一台服务器
3. 在命令输入框中输入要执行的命令
4. 点击"执行"按钮
5. 命令执行结果会显示在下方的结果区域

### 批量命令执行

1. 在左侧服务器列表中选择多台服务器（按住 Ctrl 或 Shift 键进行多选）
2. 在命令输入框中输入要执行的命令
3. 点击"批量执行"按钮
4. 每台服务器的执行结果会分别显示在结果区域

### 使用命令库

1. 点击命令输入框旁的"命令库"按钮
2. 在弹出的命令库中选择一条预设命令
3. 选中的命令会自动填入命令输入框
4. 点击"执行"或"批量执行"按钮运行命令

## 文件同步

### 上传文件

1. 点击顶部导航栏的"文件同步"选项卡
2. 在左侧服务器列表中选择目标服务器
3. 在上传区域点击"选择文件"按钮或直接拖拽文件到该区域
4. 在"远程路径"输入框中输入目标路径
5. 点击"上传"按钮开始上传
6. 上传进度和结果会显示在下方的操作历史区域

### 下载文件

1. 在左侧服务器列表中选择源服务器
2. 在"远程文件路径"输入框中输入要下载的文件路径
3. 点击"下载"按钮
4. 文件会自动下载到本地

### 批量操作

系统支持同时向多台服务器上传相同的文件：

1. 在左侧服务器列表中选择多台服务器
2. 选择要上传的文件并指定远程路径
3. 点击"批量上传"按钮
4. 系统会依次向所有选中的服务器上传文件

## 命令库管理

### 添加命令

1. 点击顶部导航栏的"命令库"选项卡
2. 点击"添加命令"按钮
3. 在弹出的表单中填写：
   - **名称**：命令的显示名称
   - **描述**：命令的用途说明
   - **命令内容**：实际的命令文本
   - **分类**：选择或创建命令分类
4. 点击"保存"按钮完成添加

### 编辑命令

1. 在命令列表中找到需要编辑的命令
2. 点击该命令行中的"编辑"按钮
3. 在弹出的表单中修改命令信息
4. 点击"保存"按钮完成编辑

### 删除命令

1. 在命令列表中找到需要删除的命令
2. 点击该命令行中的"删除"按钮
3. 在确认对话框中点击"确认"完成删除

## 操作历史

### 查看命令执行历史

1. 点击顶部导航栏的"历史记录"选项卡
2. 选择"命令历史"子选项卡
3. 系统会显示所有命令执行的历史记录，包括：
   - 执行时间
   - 服务器信息
   - 命令内容
   - 执行结果
   - 执行状态

### 查看文件操作历史

1. 在"历史记录"选项卡中选择"文件操作"子选项卡
2. 系统会显示所有文件上传和下载的历史记录，包括：
   - 操作时间
   - 服务器信息
   - 文件路径
   - 操作类型（上传/下载）
   - 操作状态

### 清除历史记录

1. 在相应的历史记录页面点击"清除历史"按钮
2. 在确认对话框中点击"确认"
3. 系统会清除所有历史记录

## 常见问题

### 无法连接到服务器

**可能原因**：
- 服务器信息（IP、用户名、密码/密钥）不正确
- 服务器 SSH 服务未启动
- 网络连接问题
- 防火墙阻止

**解决方案**：
- 检查并更正服务器信息
- 确认服务器 SSH 服务正常运行
- 检查网络连接
- 检查防火墙设置

### 命令执行失败

**可能原因**：
- 命令语法错误
- 用户权限不足
- 命令依赖的程序未安装

**解决方案**：
- 检查命令语法
- 使用 sudo 提升权限（如需要）
- 安装必要的依赖程序

### 文件上传/下载失败

**可能原因**：
- 远程路径不存在或权限不足
- 文件大小超过限制
- 网络连接不稳定

**解决方案**：
- 确认远程路径存在且有正确权限
- 对大文件进行分割或压缩
- 检查网络连接并尝试重新上传/下载

### 系统响应缓慢

**可能原因**：
- 同时操作服务器数量过多
- 网络延迟高
- 浏览器资源占用过多

**解决方案**：
- 减少同时操作的服务器数量
- 检查网络连接
- 刷新浏览器或清除缓存

### 登录失效

**可能原因**：
- 会话过期
- 认证令牌失效
- 用户凭证更改

**解决方案**：
- 重新登录系统
- 检查系统配置中的令牌过期时间
- 确认用户凭证未被更改
